\begin{tikzpicture}

\draw  (-4,2) rectangle (-3,1);
\draw  (-2.5,2) rectangle (-1.5,1);
\draw  (-1,2) rectangle (0,1);
\draw  (-3,-1) rectangle (-2,-2);
\draw  (-1,-1) rectangle (0,-2);
\draw  (-2,-3.5) rectangle (-1,-4.5);
\draw  (4,2) rectangle (5,1);
\draw  (5.5,2) rectangle (6.5,1);
\draw  (7,2) rectangle (8,1);
\draw  (5,-1) rectangle (6,-2);
\draw  (7,-1) rectangle (8,-2);
\draw  (6,-3.5) rectangle (7,-4.5);
\node at (-3.5,1.5) {\huge \bf{1}};
\node at (-2,1.5) {\huge \bf{2}};
\node at (-0.5,1.5) {\huge \bf{3}};
\node at (-0.5,-1.5) {\huge \bf{6}};
\node at (-2.5,-1.5) {\huge \bf{5}};
\node at (-1.5,-4) {\huge \bf{7}};
\node at (6.5,-4) {\huge \bf{7}};
\node at (7.5,-1.5) {\huge \bf{6}};
\node at (5.5,-1.5) {\huge \bf{5}};
\node at (4.5,1.5) {\huge \bf{1}};
\node at (6,1.5) {\huge \bf{2}};
\node at (7.5,1.5) {\huge \bf{3}};
\draw  (8.5,2) rectangle (9.5,1);
\node at (9,1.5) {\huge \bf{4}};
\draw  (0.5,2) rectangle (1.5,1);
\node at (1,1.5) {\huge \bf{4}};
\node (v1) at (-3.5,1) {};
\node (v2) at (-2.5,-1) {};
\node (v3) at (-2,1) {};
\node (v5) at (-0.5,-1) {};
\node (v4) at (-0.5,1) {};
\node (v6) at (1,1) {};
\node (v7) at (4.5,1) {};
\node (v8) at (5.5,-1) {};
\node (v10) at (7.5,0) {$b_1$};
\node (v101) at (7.5,-2) {};
\node (v102) at (7.5,-3) {$B_1$};
\draw[-triangle 90,line width=2pt]  (v101)  edge   (v102);


\node (v12) at (9,1) {};
\node (v11) at (7.5,-1) {};
\node (v14) at (6.5,-3.5) {};
\node (v13) at (7.5,-2) {};
\node (v15) at (6.5,-2.5) {$b_2$};
\node (v151) at (6.5,-4.5) {};
\node (v16) at (-0.5,-2) {};
\node (v17) at (-1.5,-3.5) {};
\node (v18) at (-2.5,-2) {};
\draw[-triangle 90,line width=2pt]  (v1)  edge node[sloped,below] () {$A_1$}  (v2);
\draw[-triangle 90,line width=2pt]  (v3) edge node[sloped,below] () {$A_2$} (v2);
\draw[-triangle 90,line width=2pt]  (v4) edge node[sloped,below] () {$A_3$}(v5);
\draw[-triangle 90,line width=2pt]  (v6) edge node[sloped,below] () {$A_4$} (v5);
%\draw[-triangle 90,line width=2pt]  (v7) edge (v8);
\node (v9) at (6,1) {};
%\draw[-triangle 90,line width=2pt]  (v9) edge (v8);
\draw[-triangle 90,line width=2pt]  (v10) edge (v11);
%\draw[-triangle 90,line width=2pt]  (v12) edge (v11);
%\draw[-triangle 90,line width=2pt]  (v13) edge (v14);
\draw[-triangle 90,line width=2pt]  (v15) edge (v14);
\draw[-triangle 90,line width=2pt]  (v16) edge node[sloped,below] () {$A_6$} (v17);
\draw[-triangle 90,line width=2pt]  (v18) edge node[sloped,below] () {$A_5$} (v17);
\node (v20) at (-1.5,-4.5) {};
\node (v22) at (6.5,-4.5) {};
\node (v24) at (-4.25,3) {\large {$a_{000}$}};
\node (v124) at (-3,3) {\large {$a_{001}$}};
\node (v25) at (-2.5,3.5) {\large {$a_{010}$}};
\node (v125) at (-1.5,3.5) {\large {$a_{011}$}};

\node (v27) at (-1,3) {\large {$a_{100}$}};

\node (v127) at (0,3) {\large {$a_{101}$}};
\node (v129) at (1.5,3.5) {\large {$a_{111}$}};

\node (v29) at (.5,3.5) {\large {$a_{110}$}};
%\node (v31) at (4.5,3.) {\large {$a_{100}$}};
%\node (v33) at (6,3) {\large {$a_{101}$}};
%\node (v35) at (7.5,3) {\large {$a_{110}$}};
\node (v38) at (9,3) {\large {$b_{0}$}};
\node (v138) at (9,1) {};
\node[below] (v139) at (9,0) {$B_0$};

\draw[-triangle 90,line width=2pt]  (v138) edge (v139);
\node (v19) at (-1.5,-5.5) {\large {$A_{7}$}};
\node (v319) at (-1.5,4.5) {\Huge \bf{Alice}};
\node[below] (v21) at (6.5,-5.5) {$B=A_7 \oplus B_0\oplus B_2 \oplus B_1=a_{b_2b_1b_0}$};
\draw[-triangle 90,line width=2pt]  (v20) edge (v19);
\draw[-triangle 90,line width=2pt]  (v22) edge (v21);
\node (v23) at (-3.5,2) {};
\node (v26) at (-2,2) {};
\node (v28) at (-0.5,2) {};
\node (v30) at (1,2) {};
\node (v32) at (4.5,2) {};
\node (v34) at (6,2) {};
\node (v36) at (7.5,2) {};
\node (v37) at (9,2) {};
\node (v337) at (6.5,4.5) {\Huge \bf{Bob}};
\draw[-triangle 90,line width=2pt]   (v24) edge (v23) ;
\draw[-triangle 90,line width=2pt]   (v124) edge (v23) ;
\draw[-triangle 90,line width=2pt]   (v25) edge (v26);
\draw[-triangle 90,line width=2pt]   (v125) edge (v26);
\draw[-triangle 90,line width=2pt]   (v27) edge (v28);
\draw[-triangle 90,line width=2pt]   (v127) edge (v28);
\draw [-triangle 90,line width=2pt]  (v29) edge (v30);
\draw [-triangle 90,line width=2pt]  (v129) edge (v30);
%\draw[-triangle 90,line width=2pt]   (v31) edge (v32);
%\draw[-triangle 90,line width=2pt]   (v33) edge (v34);
%\draw[-triangle 90,line width=2pt]   (v35) edge (v36);
\draw[-triangle 90,line width=2pt]  (v38) edge (v37);
\draw[-triangle 90,line width=2pt]  (v19) edge node[sloped,below] () {$1CBIT=A_7$} (v21);
\end{tikzpicture}